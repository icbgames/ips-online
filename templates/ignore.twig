{% extends "ips_base.twig" %}

{% block head %}
{% endblock %}

{% block inner %}

<div class="ips__ignore">
  {% if message %}
    <p class="ips__message">{{ message }}</p>
  {% endif %}

  <h2 class="ips__clear-top">IPS ポイント加算対象外リスト</h2>
  <p>
  ここで設定しているユーザーはポイントが加算されません
  </p>
  <div class="ips__ignore-list">

{% if loggedin %}
  <h3>デフォルト対象外ユーザー</h3>
  <ul>
    <li>frostytoolsdotcom</li>
    <li>ips_online</li>
    <li>nightbot</li>
    <li>sery_bot</li>
    <li>streamelements</li>
    <li>wizebot</li>
  </ul>
  
  <h3>追加の対象外ユーザー</h3>

  <table class="ips__ignore-table">
    <thead>
      <tr>
        <th>login</th>
        <th>操作</th>
      </tr>
    </thead>
    <tbody>
    {% for ignore in ignoreList %}
      <tr>
        <td>{{ ignore.login }}</td>
        <td>
          <button type="button" class="ips__ignore-delete" data-login="{{ ignore.login }}">削除</button>
        </td>
      </tr>
    {% endfor %}
    </tbody>
  </table>
  
  <form method="post" class="ips__ignore-form">
    <input type="hidden" name="action" value="add">
    <label>
      追加するユーザー名:
      <input type="text" name="login" required>
    </label>
  <button type="button" class="ips__ignore-add">追加</button>
  </form>


{% else %}
    <p>
      <a href="{{ oauthUrl }}">こちらのリンク</a>からログインおよびIPS Onlineに対する認可を行ってください。<br>
      既に認可済みの場合はログインの有効期限が切れているため↑のリンクから再ログインしてください。
    </p>
{% endif %}
  </div>
</div>

{% endblock %}
